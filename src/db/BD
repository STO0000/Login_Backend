create database control_usuarios;
use control_usuarios;
CREATE TABLE roles (
id_rol INT AUTO_INCREMENT PRIMARY KEY,
nombre VARCHAR(50)
);

CREATE TABLE permisos (
id_permiso INT auto_increment primary KEY,
nombre VARCHAR(50),
descripcion TEXT
);

CREATE TABLE rol_permiso (
id_permiso INT auto_increment primary KEY,
id_rol INT,
permiso_id INT,
foreign key (id_rol) references roles(id_rol),
foreign key (permiso_id) references permisos(id_permiso)
);

create table usuarios (
id_usuario int auto_increment primary key,
nombre varchar(100),
email varchar(300),
clave varchar(500),
id_rol INT,
foreign key (id_rol) references roles(id_rol)
);

insert into roles (nombre) values
('Administrador'),
('Empleado');

insert into permisos (nombre, descripcion) values
('Crear', 'Permite crear nuevos registros'),
('Leer','Permite visualizar registros'),
('Actualizar', 'Permite modificar registros existentes'),
('Eliminar', 'Permite eliminar registros');

insert into rol_permiso (id_rol,permiso_id) values
(1,1),
(1,2),
(1,3),
(1,4);

Insert into rol_permiso (id_rol,permiso_id) values
(2,2);

insert into usuarios (nombre, email, clave, id_rol)
values
('Admin', 'admin@gmail.com', '123456789', 1);

insert into usuarios (nombre, email, clave, id_rol)
values
('Empleado', 'empleado@gmail.com', '123456789', 2);
